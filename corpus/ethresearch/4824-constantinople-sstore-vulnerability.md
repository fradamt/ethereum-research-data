---
source: ethresearch
topic_id: 4824
title: Constantinople SSTORE vulnerability
author: kladkogex
date: "2019-01-16"
category: EVM
tags: []
url: https://ethresear.ch/t/constantinople-sstore-vulnerability/4824
views: 2466
likes: 4
posts_count: 4
---

# Constantinople SSTORE vulnerability

![](https://ethresear.ch/uploads/default/original/3X/e/f/ef60601f359b90de6d3e2e5c46a4f80e9333ca31.png)

      [Cointelegraph](https://cointelegraph.com/news/vulnerability-is-found-in-constantinople-hours-after-eth-devs-call-it-least-eventful-hard-fork)



    ![](https://ethresear.ch/uploads/default/optimized/3X/3/7/37ca299583e7de66d21a68cc40b6010dfd8d7828_2_690x459.jpeg)

###



Ethereum’s Constantinople hard fork has been reportedly postponed until at least the next week over a newly discovered vulnerability.










Whats the correct way to address this ?

## Replies

**clesaege** (2019-01-16):

The article:

https://medium.com/chainsecurity/constantinople-enables-new-reentrancy-attack-ace4088297d9

I think the proper way to fix this is to put the following restrictions on calls made without forwarding gas:

- Changing a state variable reverts.
- Making another call reverts.

This way we could ensure that `send` and `transfer` only move ETH (and eventually leads to some logs) and do not modify the state.

With current gas metering this is already the case.

---

**jpitts** (2019-01-16):

There is an in-depth discussion currently happening over on the Magicians Forum about this…

https://ethereum-magicians.org/t/remediations-for-eip-1283-reentrancy-bug/2434

---

**bradleat** (2019-01-17):

Another solution would keep the old mechanics until the last step of transaction where the amount will be refunded. This means that the old sstore gas mechanics dictates how much gas must be available before and during the transaction, but the new mechanics determine how much will be available after the transaction.

